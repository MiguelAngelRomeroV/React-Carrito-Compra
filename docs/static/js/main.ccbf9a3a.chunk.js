(this.webpackJsonpprueba=this.webpackJsonpprueba||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),s=(a(14),a(1)),o=a(4),i=a(5),m=a.n(i),d=a(8),u=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://raw.githubusercontent.com/cobeisfresh/frontend-tasks/shopping-cart/products.json",e.next=3,fetch("https://raw.githubusercontent.com/cobeisfresh/frontend-tasks/shopping-cart/products.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.products);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.useState)({data:[],loading:!0}),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){u().then((function(e){r({data:e,loading:!1})})).catch((function(e){return console.log(e)}))}),[]),a};function f(e){var t=e.setProdId,a=p(),n=a.data,c=a.loading;return r.a.createElement("div",{className:"grid md:grid-cols-3 grid-cols-2 md:gap-8 gap-4 md:p-8 p-4"},c&&r.a.createElement("p",{className:"animate__animated animate__flash text-white"},"Loanding"),n.map((function(e){return r.a.createElement("div",{className:"max-w-sm rounded overflow-hidden shadow-xl animate__animated animate__flash",key:e.id},r.a.createElement("img",{className:"w-full",src:e.image,alt:e.name}),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"font-bold md:text-xl text-xs mb-2"},e.name),r.a.createElement("p",{className:"text-gray-700 text-base"},r.a.createElement("span",{className:"md:text-2xl text-lg"},e.price.amount," "),r.a.createElement("span",null," ",e.price.currency," /"),r.a.createElement("span",null,e.price.measureUnit))),r.a.createElement("div",{className:"px-6 pt-1 pb-4"},r.a.createElement("button",{className:"btn bg-blue-600 md:px-8 px-4 rounded text-white md:py-1 md:text-lg text-sm",onClick:function(){return a=e.id,void t((function(e){return[a].concat(Object(o.a)(e))}));var a}},"Add")))})))}function x(e){var t=e.prodId,a=e.setProdId,c=p(),l=c.data,i=c.loading,m=Object(n.useState)([]),d=Object(s.a)(m,2),u=d[0],f=d[1],x=Object(n.useState)(0),b=Object(s.a)(x,2),h=b[0],v=b[1];Object(n.useEffect)((function(){w(),E()}),[t]);var E=function(){var e=Object(o.a)(new Set(t)),a=[],n=0,r=e.map((function(e,r){return a=l.find((function(t){return t.id===e})),n=t.reduce((function(t,a){return a===e?t+=1:t}),0),a.cantidad=n,a}));f(r)},w=function(){var e=0;t.map((function(t){var a=l.filter((function(e){return e.id===t}));e+=a[0].price.amount,v(e.toFixed(2))}))};return r.a.createElement("div",{className:"p-2 pt-4"},r.a.createElement("h1",{className:"px-2 font-bold text-xl md:text-2xl text-white"},"Kosarica"),r.a.createElement("div",{className:"divide-y divide-gray-400"},i&&r.a.createElement("p",{className:"animate__animated animate__flash text-white"},"Loanding"),u.map((function(e){return r.a.createElement("div",{className:"max-w-sm rounded overflow-hidden shadow-lg relative m-2",key:e.id},r.a.createElement("div",{className:"flex flex-wrap bg-blue-200"},r.a.createElement("div",{className:"w-2/5 "},r.a.createElement("img",{className:"w-full h-full",src:e.image,alt:"Producto"})),r.a.createElement("div",{className:"w-3/5 p-2"},r.a.createElement("div",{className:"font-bold text-sm mb-2"},r.a.createElement("span",{className:"text-blue-600 text-lg"},e.cantidad," "),r.a.createElement("span",{className:"text-blue-600 text-md"},"x")," ",e.name),r.a.createElement("p",{className:"text-blue-600 text-base"},r.a.createElement("span",null,(e.price.amount*e.cantidad).toFixed(2)," "),r.a.createElement("span",null," ",e.price.currency," ")))),r.a.createElement("div",{className:"items-center absolute top-0 right-0 h-6 w-6 rounded-full bg-transparent bg-red-600"},r.a.createElement("button",{className:" h-6 w-6 rounded-full  text-white font-bold",onClick:function(){return function(e){var t=u.filter((function(t){return t.id!==e})),n=t.map((function(e){return e.id}));a(n),f(t),w()}(e.id)}},"x")))})),r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center text-white p-4"},r.a.createElement("h2",{className:"font-bold text-lg"},"Monto total"),r.a.createElement("p",{className:"text-xl"},h))))}var b=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"flex flex-wrap"},r.a.createElement("div",{className:"md:w-4/5 w-full text-center"},r.a.createElement(f,{setProdId:c}),r.a.createElement("div",{className:"md:h-1 h-48"})),r.a.createElement("div",{className:"md:w-1/5 fixed md:relative bottom-0 w-full shadow-2xl bg-blue-600 overflow-y-auto md:h-auto h-48 "},r.a.createElement(x,{prodId:a,setProdId:c})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.ccbf9a3a.chunk.js.map